###Плагины в magento 2 
Существует три типа плагинов в magento 2 
####before, after, around
Они могу выполняться перед, после и вместо метода, поведение которого нам необходимо изменить

Они могут быть созданы для любого `public` `(not final)` метода

Плагины не работают для `virtual type` и для классов, которые инициализируются раньше, чем  `Magento/Framework/Interception`

Мы можем создавать плагины не только для классов, но и для интерфейсов и абстракт классов

На каждый метод можно создать несколько плагинов из разных модулей. 
Все плагины будут выполняться по порядку, 
поэтому плагины наиболее предпочтительны для изменения и расширения функционала.

`Plugins` и `Interceptors` не одно и тоже в `Magento`.

`Interceptors` автогенерируемые классы. Они являются частью автогенерируемой архитектуры `magento`

`Plugins` это классы написанные людьми для кастомизации функционала.

Плагины декларируются в `di.xml`

Там мы указываем класс метода, с которым мы планируем работать, в ноду `type` и атрибут `name`.
Дальше указываем наш плагин в ноде `plugin` и атрибуте `type`. Также есть такие атрибуты `sortOrder`, `name`,`disabled`

В `sortOrder` указываем порядок загрузки нашего модуля с плагинами из других модулей для этого метода.
 
В `name` имя плагина. Его мы увидим в `pluginList` в `Interceptor`. 

`disabled=true` позволяет отключить плагин из другого модуля.

Если не указан `sortOrder`, то порядок выстраивается на основе `app/ect/config.php`
В новом модуле можно регулировать порядок загрузки, уже существующих плагинов, с помощью ноды `<sequence>` в `module.xml` и `di.xml,`
где мы указываем в ноде `plugin` только `name` плагина и `sortOrder`

####Пример работы порядка загрузки плагинов
![Alt text](./priority.png?raw=true "Priority")